#!/bin/sh


preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5&&tightMuons<=1&&tightElectrons==0'
wselection='mt1>70'
signalselection='mt1<30'
qcdselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB>0.2&&tauIso<1.5&&charge!=0&&mt1<30&&lTrigger>0&&tauTrigger>0'
relaxedSelection='pt1>20&&pt2>20&&vertices>0&&mt1<30&&lTrigger>0&&tauTrigger>0'
vbfSelection0='(nJetsPt30==0&&nJetsBTagCSVMPt20==0)'
vbfSelection1='(nJetsPt30>=1&&nJetsBTagCSVMPt20==0)' 
vbfSelection2='(nJetsPt30>=2&&vbfNJetsGap30==0&&vbfMass>500&&vbfDEta>3.5)'
btagSelection='btag>0&&J1Pt>40&&nJetsPt20>1'
btagRelaxedSelection='J1Pt>40&&nJetsPt20>1'
bTagSF='1'
embWeight='__CORR__*EmbPtWeight*HLT_Mu17_Mu8_fired'
luminosity=19790.
direc='/scratch/ojalvo/LTau_103/'

binning='binningHighStat=0.,10.,20.,30.,40.,50.,60.,70.,80.,90.,100.,110.,120.,130.,140.,150.,160.,170.,180.,190.,200.,225.,250.,275.,300.,325.,350. binningLowStat=0.,20.,40.,60.,80.,100.,120.,140.,160.,180.,200.,250.,300.,350. binningVBFTight=0.,20.,40.,60.,80.,100.,120.,140.,160.,180.,200.,250.,300.,350.' 
mkdir muTauPlots
####testing btagging/jet selections

MakeDataCard channel='muTau' dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection='btag>0&&nJetsPt30<2' bTagSF='1'  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection='nJetsBTagCSVLPt20>0&&nJetsPt30<2'   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='J1PtCSVSort' bins=30 min=20.0 max=300 outputFile='muTauPlots/muTau_J1PtCSVSort.root' 
exit;
MakeDataCard channel='muTau' blinding='(!(mJJHMassSort>292))'   dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection='nJetsBTagCSVMPt20>0&&J1Pt>40&&nJetsPt20>1' bTagSF=$'EffWEIGHTCSVM'  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='mJJHMassSort' bins=15 min=20.0 max=600 outputFile='muTauPlots/muTau_HMass2tag.root' &

MakeDataCard channel='muTau'  blinding='(!(mJJCSVSort>100&&mJJCSVSort<150))'  dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection'&&nJetsBTagCSVMPt20>1' bTagSF='EffWEIGHTCSVM2'  luminosityErr=0.045 qcdfactor=1.16 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='mJJCSVSort' bins=23 min=25.0 max=600 outputFile='muTauPlots/muTau_mJJCSVSort2tag.root' &

MakeDataCard channel='muTau' blinding='(!(svMass>100&&svMass<160))'   dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection='nJetsBTagCSVMPt20>1' bTagSF='EffWEIGHTCSVM2'  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='svMass' bins=15 min=20.0 max=350 outputFile='muTauPlots/muTau_svMass2tag.root' $binning &


MakeDataCard channel='muTau'  blinding='(!(mJJCSVSort>100&&mJJCSVSort<150))'  dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.16 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='mJJCSVSort' bins=23 min=25.0 max=600 outputFile='muTauPlots/muTau_mJJCSVSort.root' &

MakeDataCard channel='muTau' blinding='(!(svMass>100&&svMass<160))'   dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='svMass' bins=15 min=20.0 max=350 outputFile='muTauPlots/muTau_svMass.root' $binning &


MakeDataCard channel='muTau' blinding='(!(HMass>292))'   dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='HMass' bins=15 min=20.0 max=1020 outputFile='muTauPlots/muTau_HMass.root' &

exit;

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<500'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='mt1' bins=15 min=0 max=150 outputFile='muTauPlots/muTau_mt1.root' &

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='pZeta' bins=15 min=-50 max=50 outputFile='muTauPlots/muTau_pZeta.root' &

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='nJetsBTagCSVMPt20' bins=10 min=0 max=10 outputFile='muTauPlots/muTau_nJetsBTagCSVMPt20.root' &

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='nJetsPt30' bins=10 min=0 max=10 outputFile='muTauPlots/muTau_nJetsPt30.root' &


MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='J1Pt' bins=30 min=20.0 max=300 outputFile='muTauPlots/muTau_J1Pt.root' &

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1<30'         qcdselection=$qcdselection btagSelection=$btagSelection bTagSF=$bTagSF  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,4  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2  btagRelaxedSelection=$btagRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='J2Pt' bins=30 min=20.0 max=300 outputFile='muTauPlots/muTau_J2Pt.root' &


exit;
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1>50'         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='pt2ES' bins=30 min=20.0 max=300 outputFile='muTauPlots/muTau_pt2ES.root'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection='mt1>50'         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='pt2' bins=30 min=20.0 max=300 outputFile='muTauPlots/muTau_pt2.root'


exit;
preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5&&tightMuons<=1&&tightElectrons==0'

binning='binningHighStat=-4.,1.,6.,11'
 
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root'   zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bId=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight luminosity=$luminosity  variable='tauDecayMode'  outputFile='muTauPlots/muTau_TDMode.root' $binning



MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='mass' bins=20 min=0.0 max=200 outputFile='muTauPlots/muTau_MVis.root'
 
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='vertices' bins=50 min=0.0 max=50 outputFile='muTauPlots/muTau_NPVs.root'
    
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='pt1' bins=30 min=0.0 max=120 outputFile='muTauPlots/muTau_pt1.root'
 
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='pt2' bins=30 min=0.0 max=120 outputFile='muTauPlots/muTau_pt2.root'
  
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection          qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='eta2' bins=24 min=-2.4 max=2.4 outputFile='muTauPlots/muTau_eta2.root'
  
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='eta1' bins=24 min=-2.4 max=2.4 outputFile='muTauPlots/muTau_eta1.root'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='nJetsBTagCSVMPt20' bins=10 min=0.0 max=10 outputFile='muTauPlots/muTau_bjets.root'
  
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='nJetsPt30' bins=10 min=0.0 max=10 outputFile='muTauPlots/muTau_jets.root'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection          qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='met' bins=20 min=0 max=100 outputFile='muTauPlots/muTau_MET.root'

preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5&&tightMuons<=1&&tightElectrons==0&&tauDecayMode==1'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='tauMass' bins=24 min=0.2 max=1.4 outputFile='muTauPlots/muTau_tauMass1P.root'

preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5&&tightMuons<=1&&tightElectrons==0&&tauDecayMode==10'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root'  wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='tauMass' bins=18 min=0.7 max=1.6 outputFile='muTauPlots/muTau_tauMass3P.root'

preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5&&tightMuons<=1&&tightElectrons==0' 
signalselection='pt2>20'
qcdselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB>0.2&&tauIso<1.5&&charge!=0&&mt1<60&&lTrigger>0&&tauTrigger>0'
 
MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection          qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='mt1' bins=28 min=0 max=140 outputFile='muTauPlots/muTau_MT.root'
 


relaxedSelection='pt1>20&&pt2>20&&vertices>0&&mt1<30&&nJetsPt30>=1'
signalselection='mt1<30'
preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5&&nJetsPt30>0&&nJetsPt30>=1'
qcdselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB>0.2&&tauIso<1.5&&charge!=0&&mt1<30&&nJetsPt30>0&&lTrigger>0&&tauTrigger>0&&nJetsPt30>=1'


MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1="nJetsPt30>=1"  vbfSelection2=$vbfSelection2  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight luminosity=$luminosity  variable='J1Pt' bins=27. min=30 max=300. outputFile='muTauPlots/muTau_BoostedPt.root'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1="nJetsPt30>=1"  vbfSelection2=$vbfSelection2  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight luminosity=$luminosity  variable='J1Eta' bins=20. min=-5.0 max=5.0 outputFile='muTauPlots/muTau_BoostedEta.root'


relaxedSelection='pt1>20&&pt2>20&&vertices>0&&mt1<30'
preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5'
qcdselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB>0.2&&tauIso<1.5&&charge!=0&&mt1<30&&lTrigger>0&&tauTrigger>0'
vbfRelaxedSelection='(nJetsPt30>=2)'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='vbfDEta' bins=20. min=0.001 max=10.0  outputFile='muTauPlots/muTau_DEta.root'

MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=0,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='vbfMass' bins=24. min=0.001 max=1200. outputFile='muTauPlots/muTau_MJJ.root'

vbfRelaxedSelection='(nJetsPt30>=2)'
binning='binningHighStat=0.,10.,20.,30.,40.,50.,60.,70.,80.,90.,100.,110.,120.,130.,140.,150.,160.,170.,180.,190.,200. binningLowStat=0.,10.,20.,30.,40.,60.,80.,120.,200. binningVBFTight=0.,20.,40.,60.,80.,120.,160.,200.,250.,300.' 

# MakeDataCard channel='muTau'   blinding='(!(met>0))'  dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfMass>700&&vbfDEta>4&&vbfNJetsGap30==0'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='met' $binning outputFile='muTauPlots/muTau_vbfMET.root' &

# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='svPt' $binning outputFile='muTauPlots/muTau_vbfSVPt.root' &
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='fullPt' $binning outputFile='muTauPlots/muTau_vbfpt.root' &

# MakeDataCard channel='muTau'   blinding='(!((pt2+met)>0))' dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfMass>700&&vbfDEta>4&&vbfNJetsGap30==0'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='(pt2+met)' $binning outputFile='muTauPlots/muTau_vbfHt.root' &

# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='vbfPt1' bins=27. min=30 max=300. outputFile='muTauPlots/muTau_vbfPt1.root'
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='vbfPt2' bins=27. min=30 max=300. outputFile='muTauPlots/muTau_vbfPt2.root'
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='vbfEta1' bins=25. min=-5 max=5 outputFile='muTauPlots/muTau_vbfEta1.root'
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='vbfEta2' bins=25. min=-5 max=5 outputFile='muTauPlots/muTau_vbfEta2.root'

# MakeDataCard channel='muTau'  blinding='(vbfMVA<0.9)'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='vbfMVA' bins=50. min=0 max=1.0 outputFile='muTauPlots/muTau_vbfMVA.root'
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='vbfC1' bins=50. min=0 max=5 outputFile='muTauPlots/muTau_vbfC1.root'
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection         qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0='(nJetsPt30>=0)' vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2'  relaxedSelection=$relaxedSelection  vbfRelaxedSelection=$vbfRelaxedSelection  weight=' __CORR__*__WEIGHT__'  luminosity=$luminosity  variable='vbfC2' bins=30. min=0 max=300 outputFile='muTauPlots/muTau_vbfC2.root'

# vbfRelaxedSelection='(nJetsPt30>=2&&vbfMass>500&&vbfDEta>3.5)'
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfMass>500&&vbfDEta>3.5'  vbfRelaxedSelection=$vbfRelaxedSelection   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight  luminosity=$luminosity  variable='vbfNJetsGap30' bins=5 min=0.0 max=5 outputFile='muTauPlots/muTau_cjv.root'
# 

# relaxedSelection='pt1>20&&pt2>20&&vertices>0&&mt1<30'
# signalselection='mt1<30'
# preselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB<0.1&&tauIso<1.5&&nJetsPt20>0&&highestJetBTagCSV>0.679&&abs(highestJetEta)<2.4'
# qcdselection='pt1>20&&pt2>20&&vertices>0&&diLeptons==0&&lPFIsoDB>0.2&&tauIso<1.5&&charge!=0&&mt1<30&&nJetsPt20>0&&lTrigger>0&&tauTrigger>0&&highestJetBTagCSV>0.679&&abs(highestJetEta)<2.4'
# 
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1="nJetsPt30>=1"  vbfSelection2=$vbfSelection2  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight luminosity=$luminosity  variable='highestJetPt' bins=27. min=30 max=300. outputFile='muTauPlots/muTau_BJetPt.root'
# 
# MakeDataCard channel='muTau'    dataFile=$direc'DATA.root' zEmbeddedSample=$direc'MTEM.root' wThreeJetsFile=$direc'WJETS.root' zttFile=$direc'ZJETS.root' zllFile=$direc'ZJETS.root' wFile=$direc'WJETS.root' vvFile=$direc'VV.root' topFile=$direc'TOP.root' preselection=$preselection       wselection=$wselection	       signalselection=$signalselection           qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.06 qcdfactorErr=0.02 vvErr=0.3   zttScale=1.0 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir=$direc''  bID=1.0  bIDErr=0.10  bMisID=1.0  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1="nJetsPt30>=1"  vbfSelection2=$vbfSelection2  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__'  embWeight=$embWeight luminosity=$luminosity  variable='highestJetEta' bins=20. min=-5.0 max=5.0 outputFile='muTauPlots/muTau_BJetEta.root'
